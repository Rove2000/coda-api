<table id="taskTable">
  <thead>
    <tr>
      <th>Task</th>
      <th>Status</th>
      <th>Due Date</th>
      <th>Contractor</th>
    </tr>
  </thead>
  <tbody id="taskBody"></tbody>
</table>

<script>
async function loadTasks() {
  const res = await fetch('/.netlify/functions/getTasks');
  const tasks = await res.json();

  const body = document.getElementById('taskBody');
  body.innerHTML = '';

  tasks.forEach(t => {
    const row = `<tr>
      <td>${t.values['Task'] || ''}</td>
      <td>${t.values['Status'] || ''}</td>
      <td>${t.values['DueDate'] || ''}</td>
      <td>${t.values['ContractorKey'] || ''}</td>
    </tr>`;
    body.insertAdjacentHTML('beforeend', row);
  });
}

// Load automatically
loadTasks();
</script>
